{"version":3,"file":"assistant-src_components_Text2Image_Text2ImageDisplay_vue.js?v=0b33b841282becf41e04","mappings":"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","sources":["webpack:///assistant/src/components/Text2Image/Text2ImageDisplay.vue","webpack:///assistant/src/components/icons/AssistantIcon.vue","webpack://assistant/./src/components/Text2Image/Text2ImageDisplay.vue?da5a","webpack://assistant/./src/components/icons/AssistantIcon.vue?e205","webpack:///assistant/src/components/Text2Image/Text2ImageDisplay.vue?vue&type=style&index=0&id=163a09a0&prod&scoped=true&lang=scss","webpack://assistant/./src/components/Text2Image/Text2ImageDisplay.vue?0e8a","webpack://assistant/./src/components/Text2Image/Text2ImageDisplay.vue?5c37","webpack://assistant/./src/components/icons/AssistantIcon.vue?c75d","webpack:///assistant/src/components/Text2Image/Text2ImageDisplay.vue?vue&type=script&lang=js","webpack:///assistant/src/components/icons/AssistantIcon.vue?vue&type=script&lang=js"],"sourcesContent":["<!-- SPDX-FileCopyrightText: Sami FinnilÃ¤ <sami.finnila@nextcloud.com> -->\n<!-- SPDX-License-Identifier: AGPL-3.0-or-later -->\n\n<template>\n\t<div class=\"display-container\">\n\t\t<div class=\"title\">\n\t\t\t<div class=\"icon-and-text\">\n\t\t\t\t<div v-if=\"loading\">\n\t\t\t\t\t<NcLoadingIcon :size=\"20\" class=\"icon\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t<AssistantIcon :size=\"20\" class=\"icon\" />\n\t\t\t\t</div>\n\t\t\t\t<strong class=\"app-name\">\n\t\t\t\t\t{{ t('assistant', 'Image generation') + ':' }}\n\t\t\t\t</strong>\n\t\t\t\t{{ prompt }}\n\t\t\t</div>\n\t\t\t<Cog v-if=\"isOwner\"\n\t\t\t\t:size=\"30\"\n\t\t\t\tclass=\"edit-icon\"\n\t\t\t\t:class=\"{ 'active': editModeEnabled}\"\n\t\t\t\t:title=\"t('assistant', 'Edit visible images')\"\n\t\t\t\t@click=\"toggleEditMode\" />\n\t\t</div>\n\t\t<div v-if=\"editModeEnabled && isOwner\">\n\t\t\t<div v-if=\"imageUrls.length > 0 && !failed\" class=\"image-list\">\n\t\t\t\t<div v-for=\"(imageUrl, index) in imageUrls\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"image-container\"\n\t\t\t\t\t@mouseover=\"hoveredIndex = index\"\n\t\t\t\t\t@mouseout=\"hoveredIndex = -1\">\n\t\t\t\t\t<div class=\"checkbox-container\" :class=\"{ 'hovering': hoveredIndex === index }\">\n\t\t\t\t\t\t<input v-model=\"fileVisStatusArray[index].visible\"\n\t\t\t\t\t\t\t:v-show=\"!imgLoadedList[index]\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t:title=\"t('assistant', 'Click to toggle generation visibility')\"\n\t\t\t\t\t\t\t@change=\"onCheckboxChange()\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"image-wrapper\" :class=\"{ 'deselected': !fileVisStatusArray[index].visible }\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclass=\"image-editable\"\n\t\t\t\t\t\t\t:src=\"imageUrl\"\n\t\t\t\t\t\t\t:title=\"t('assistant', 'Click to toggle generation visibility')\"\n\t\t\t\t\t\t\t@load=\"onImageLoad(index)\"\n\t\t\t\t\t\t\t@click=\"toggleCheckbox(index)\"\n\t\t\t\t\t\t\t@error=\"onError\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<div v-if=\"imageUrls.length > 0 && !failed\"\n\t\t\t\tclass=\"image-list\">\n\t\t\t\t<div v-for=\"(imageUrl, index) in imageUrls\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"image-container\">\n\t\t\t\t\t<div v-show=\"!isOwner || fileVisStatusArray[index].visible\" class=\"image-wrapper\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclass=\"image-non-editable\"\n\t\t\t\t\t\t\t:src=\"imageUrl\"\n\t\t\t\t\t\t\t:title=\"t('assistant', 'Generated image')\"\n\t\t\t\t\t\t\t@load=\"onImageLoad(index)\"\n\t\t\t\t\t\t\t@error=\"onError\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"!hasVisibleImages\" class=\"error_msg\">\n\t\t\t\t\t{{ t('assistant', 'This generation has no visible images') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!failed && waitingInBg\"\n\t\t\tclass=\"processing-notification-container\">\n\t\t\t<div v-if=\"timeUntilCompletion !== null\" class=\"processing-notification\">\n\t\t\t\t<InformationOutlineIcon :size=\"20\" class=\"icon\" />\n\t\t\t\t{{ t('assistant', 'Estimated generation time left: ') + timeUntilCompletion + '. ' }}\n\t\t\t\t{{ t('assistant', 'The generated image is shown once ready.') }}\n\t\t\t</div>\n\t\t\t<div v-else class=\"processing-notification\">\n\t\t\t\t<InformationOutlineIcon :size=\"20\" class=\"icon\" />\n\t\t\t\t{{ t('assistant', 'This image generation was scheduled to run in the background.') }}\n\t\t\t\t{{ t('assistant', 'The generated image is shown once ready.') }}\n\t\t\t</div>\n\t\t</div>\n\t\t<span v-if=\"failed\" class=\"error_msg\">\n\t\t\t{{ t('assistant', errorMsg) }}\n\t\t</span>\n\t</div>\n</template>\n\n<script>\nimport NcLoadingIcon from '@nextcloud/vue/dist/Components/NcLoadingIcon.js'\nimport Cog from 'vue-material-design-icons/Cog.vue'\nimport InformationOutlineIcon from 'vue-material-design-icons/InformationOutline.vue'\nimport axios from '@nextcloud/axios'\nimport AssistantIcon from '../icons/AssistantIcon.vue'\nimport { generateUrl } from '@nextcloud/router'\nimport humanizeDuration from 'humanize-duration'\n\nexport default {\n\tname: 'Text2ImageDisplay',\n\n\tcomponents: {\n\t\tNcLoadingIcon,\n\t\tInformationOutlineIcon,\n\t\tAssistantIcon,\n\t\tCog,\n\t},\n\n\tprops: {\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tforceEditMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tprompt: '',\n\t\t\tloadingImages: true,\n\t\t\timgLoadedList: [],\n\t\t\ttimeUntilCompletion: null,\n\t\t\tfailed: false,\n\t\t\timageUrls: [],\n\t\t\tisOwner: false,\n\t\t\terrorMsg: t('assistant', 'Image generation failed'),\n\t\t\tclosed: false,\n\t\t\tfileVisStatusArray: [],\n\t\t\thoveredIndex: -1,\n\t\t\thovered: false,\n\t\t\teditModeEnabled: false,\n\t\t\twaitingInBg: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tloading() {\n\t\t\t// Will turn to false once all images have loaded or if something fails\n\t\t\treturn this.loadingImages && !this.failed && this.imageUrls.length > 0\n\t\t},\n\t\thasVisibleImages() {\n\t\t\tif (this.isOwner) {\n\t\t\t\treturn this.fileVisStatusArray.some(status => status.visible)\n\t\t\t} else {\n\t\t\t\treturn this.imageUrls.length > 0\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.getImageGenInfo()\n\t\tthis.editModeEnabled = this.forceEditMode\n\t},\n\tunmounted() {\n\t\tthis.closed = true\n\t},\n\tmethods: {\n\t\tonImageLoad(index) {\n\t\t\tthis.imgLoadedList[index] = true\n\n\t\t\tif (this.imgLoadedList.every((loaded) => loaded)) {\n\t\t\t\tthis.loadingImages = false\n\t\t\t}\n\t\t},\n\t\tgetImages(imageGenId, fileIds) {\n\t\t\tthis.loadingImages = true\n\t\t\tthis.imageUrls = []\n\t\t\tthis.imgLoadedList = []\n\t\t\tthis.fileVisStatusArray = fileIds\n\n\t\t\t// Loop through all the fileIds and get the images:\n\t\t\tfileIds.forEach((fileId) => {\n\t\t\t\tthis.imageUrls.push(generateUrl('/apps/assistant/i/' + imageGenId + '/' + fileId.id))\n\t\t\t\tthis.imgLoadedList.push = false\n\t\t\t})\n\t\t},\n\t\tgetImageGenInfo() {\n\t\t\tlet success = false\n\t\t\taxios.get(this.src)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\tif (response.data?.files !== undefined) {\n\t\t\t\t\t\t\tthis.waitingInBg = false\n\n\t\t\t\t\t\t\tif (response.data.files.length === 0) {\n\t\t\t\t\t\t\t\tthis.errorMsg = t('assistant', 'This generation has no visible images')\n\t\t\t\t\t\t\t\tthis.failed = true\n\t\t\t\t\t\t\t\tthis.imgLoadedList = []\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.prompt = response.data.prompt\n\t\t\t\t\t\t\t\tthis.isOwner = response.data.is_owner\n\t\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t\t\tthis.getImages(response.data.image_gen_id, response.data.files)\n\t\t\t\t\t\t\t\tthis.onGenerationReady()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (response.data?.processing !== undefined) {\n\t\t\t\t\t\t\tthis.waitingInBg = true\n\t\t\t\t\t\t\tthis.$emit('processing')\n\t\t\t\t\t\t\tthis.updateTimeUntilCompletion(response.data.processing)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.errorMsg = t('assistant', 'Unexpected server response')\n\t\t\t\t\t\t\tthis.failed = true\n\t\t\t\t\t\t\tthis.imgLoadedList = []\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('Unexpected response status: ' + response.status)\n\t\t\t\t\t\tthis.errorMsg = t('assistant', 'Unexpected server response')\n\t\t\t\t\t\tthis.failed = true\n\t\t\t\t\t\tthis.imgLoadedList = []\n\t\t\t\t\t}\n\t\t\t\t\t// If we didn't succeed in loading the image gen info yet, try again\n\t\t\t\t\tif (!success && !this.failed && !this.closed) {\n\t\t\t\t\t\tsetTimeout(this.getImageGenInfo, 3000)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.onError(error)\n\t\t\t\t})\n\t\t},\n\t\tupdateTimeUntilCompletion(completionTimeStamp) {\n\t\t\t// AFAIK there's no trivial way to do this with a computed property unless timers/intervals\n\t\t\t// are used, so we might as well do this with a method:\n\t\t\tconst timeDifference = new Date(completionTimeStamp * 1000) - new Date()\n\t\t\t// If the time difference is less than 5 minutes, don't show the time left\n\t\t\t// (as we don't know when the scheduled job will start exactly)\n\t\t\tif (timeDifference < 5 * 60000) {\n\t\t\t\tthis.timeUntilCompletion = null\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.timeUntilCompletion = humanizeDuration(timeDifference,\n\t\t\t\t{ units: ['h', 'm'], language: OC.getLanguage(), fallbacks: ['en'], round: true })\n\n\t\t\t// Schedule next update:\n\t\t\tif (!this.closed) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.updateTimeUntilCompletion(completionTimeStamp)\n\t\t\t\t}, 30000)\n\t\t\t}\n\t\t},\n\t\tonError(error) {\n\t\t\t// If error response status is 429 let the user know that they are being rate limited\n\t\t\tif (error.response?.status === 429) {\n\t\t\t\tthis.errorMsg = t('assistant', 'Rate limit reached. Please try again later.')\n\t\t\t\tthis.failed = true\n\t\t\t\tthis.imgLoadedList = []\n\t\t\t} else if (error.response?.data !== undefined) {\n\t\t\t\tthis.errorMsg = error.response.data.error\n\t\t\t\tthis.failed = true\n\t\t\t\tthis.imgLoadedList = []\n\t\t\t} else {\n\t\t\t\tconsole.error('Could not handle response error: ' + error)\n\t\t\t\tthis.errorMsg = t('assistant', 'Unknown server query error')\n\t\t\t\tthis.failed = true\n\t\t\t\tthis.imgLoadedList = []\n\t\t\t}\n\t\t\tthis.$emit('failed')\n\n\t\t},\n\t\tonGenerationReady() {\n\t\t\tthis.$emit('ready')\n\t\t},\n\t\tonCheckboxChange() {\n\t\t\tconst url = generateUrl('/apps/assistant/i/visibility/' + this.src.split('/').pop())\n\n\t\t\taxios.post(url, {\n\t\t\t\tfileVisStatusArray: this.fileVisStatusArray,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t\t// console.log('Successfully updated visible images')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('Unexpected response status: ' + response.status)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error('Could not update visible images: ' + error)\n\t\t\t\t})\n\t\t},\n\t\ttoggleCheckbox(index) {\n\t\t\tthis.fileVisStatusArray[index].visible = !this.fileVisStatusArray[index].visible\n\t\t\tthis.onCheckboxChange()\n\t\t},\n\t\ttoggleEditMode() {\n\t\t\tthis.editModeEnabled = !this.editModeEnabled\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.display-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\t.edit-icon {\n\t\tposition: static;\n\t\topacity: 0.2;\n\t\ttransition: opacity 0.2s ease-in-out;\n\t\tcursor: pointer;\n\t}\n\n\t.edit-icon.active {\n\t\topacity: 1;\n\t\tcursor: pointer;\n\t}\n\n\t.image-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: center;\n\t}\n\n\t.image-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tjustify-content: center;\n\t\tmax-width: 90%;\n\t}\n\n\t.checkbox-container {\n\t\tposition: absolute;\n\t\ttop: 5%;\n\t\tleft: 95%;\n\t\tz-index: 1;\n\t\topacity: 0.2;\n\t\ttransition: opacity 0.2s ease-in-out;\n\t\t> input {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\t.checkbox-container.hovering {\n\t\topacity: 1;\n\t}\n\n\t/*.checkbox {\n\t\tcursor: pointer;\n\t}*/\n\n\t.image-wrapper {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\tmax-width: 100%;\n\t\theight: 100%;\n\t\tmargin-top: 12px;\n\t\tfilter: none;\n\t\ttransition: filter 0.2s ease-in-out;\n\t}\n\n\t.image-wrapper.deselected {\n\t\tfilter: grayscale(100%) brightness(50%);\n\t}\n\n\t.image-editable {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmin-width: 400px;\n\t\tobject-fit:contain;\n\t\tcursor: pointer;\n\t\tborder-radius: var(--border-radius);\n\t}\n\n\t.image-non-editable {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmin-width: 400px;\n\t\tobject-fit:contain;\n\t}\n\n\t.title {\n\t\tmax-width: 600px;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tmargin-top: 0;\n\n\t\t.icon-and-text {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-items: top;\n\t\t\tjustify-content: start;\n\t\t\tmargin-right: 8px;\n\n\t\t\t.app-name {\n\t\t\t\tmargin-right: 8px;\n\t\t\t\twhite-space: nowrap;\n\t\t\t}\n\t\t}\n\n\t\t.icon {\n\t\t\tdisplay: inline;\n\t\t\tposition: relative;\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n\n\t.processing-notification-container {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-top: 24px;\n\n\t\t.processing-notification {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tmargin-top: 24px;\n\t\t\twidth: 90%;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\t// Add a border\n\t\t\tborder: 3px solid var(--color-border);\n\t\t\tborder-radius: var(--border-radius-large);\n\t\t\tpadding: 12px;\n\t\t\t// Reduce the font size\n\t\t\tfont-size: 0.8rem;\n\t\t\t// Add some space between the icon and the text on the same line\n\t\t\tcolumn-gap: 24px;\n\t\t}\n\t}\n\n\t.error_msg {\n\t\tcolor: var(--color-error);\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 24px;\n\t\talign-self: center;\n\n\t}\n}\n</style>\n","<template>\n\t<span :aria-hidden=\"!title\"\n\t\t:aria-label=\"title\"\n\t\tclass=\"material-design-icon assistant-icon\"\n\t\trole=\"img\"\n\t\tv-bind=\"$attrs\"\n\t\t@click=\"$emit('click', $event)\">\n\t\t<svg\n\t\t\t:fill=\"fillColor\"\n\t\t\t:width=\"size\"\n\t\t\t:height=\"size\"\n\t\t\tenable-background=\"new 0 0 24 24\"\n\t\t\tversion=\"1.1\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\txml:space=\"preserve\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t<path\n\t\t\t\td=\"M18,4C16.29,4 15.25,4.33 14.65,4.61C13.88,4.23 13,4 12,4C11,4 10.12,4.23 9.35,4.61C8.75,4.33 7.71,4 6,4C3,4 1,12 1,14C1,14.83 2.32,15.59 4.14,15.9C4.78,18.14 7.8,19.85 11.5,20V15.72C10.91,15.35 10,14.68 10,14C10,13 12,13 12,13C12,13 14,13 14,14C14,14.68 13.09,15.35 12.5,15.72V20C16.2,19.85 19.22,18.14 19.86,15.9C21.68,15.59 23,14.83 23,14C23,12 21,4 18,4M4.15,13.87C3.65,13.75 3.26,13.61 3,13.5C3.25,10.73 5.2,6.4 6.05,6C6.59,6 7,6.06 7.37,6.11C5.27,8.42 4.44,12.04 4.15,13.87M9,12A1,1 0 0,1 8,11C8,10.46 8.45,10 9,10A1,1 0 0,1 10,11C10,11.56 9.55,12 9,12M15,12A1,1 0 0,1 14,11C14,10.46 14.45,10 15,10A1,1 0 0,1 16,11C16,11.56 15.55,12 15,12M19.85,13.87C19.56,12.04 18.73,8.42 16.63,6.11C17,6.06 17.41,6 17.95,6C18.8,6.4 20.75,10.73 21,13.5C20.75,13.61 20.36,13.75 19.85,13.87Z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\nexport default {\n\tname: 'AssistantIcon',\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfillColor: {\n\t\t\ttype: String,\n\t\t\tdefault: 'currentColor',\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: 24,\n\t\t},\n\t},\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"display-container\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"icon-and-text\"},[(_vm.loading)?_c('div',[_c('NcLoadingIcon',{staticClass:\"icon\",attrs:{\"size\":20}})],1):_c('div',[_c('AssistantIcon',{staticClass:\"icon\",attrs:{\"size\":20}})],1),_vm._v(\" \"),_c('strong',{staticClass:\"app-name\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'Image generation') + ':')+\"\\n\\t\\t\\t\")]),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.prompt)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.isOwner)?_c('Cog',{staticClass:\"edit-icon\",class:{ 'active': _vm.editModeEnabled},attrs:{\"size\":30,\"title\":_vm.t('assistant', 'Edit visible images')},on:{\"click\":_vm.toggleEditMode}}):_vm._e()],1),_vm._v(\" \"),(_vm.editModeEnabled && _vm.isOwner)?_c('div',[(_vm.imageUrls.length > 0 && !_vm.failed)?_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageUrls),function(imageUrl,index){return _c('div',{key:index,staticClass:\"image-container\",on:{\"mouseover\":function($event){_vm.hoveredIndex = index},\"mouseout\":function($event){_vm.hoveredIndex = -1}}},[_c('div',{staticClass:\"checkbox-container\",class:{ 'hovering': _vm.hoveredIndex === index }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fileVisStatusArray[index].visible),expression:\"fileVisStatusArray[index].visible\"}],attrs:{\"v-show\":!_vm.imgLoadedList[index],\"type\":\"checkbox\",\"title\":_vm.t('assistant', 'Click to toggle generation visibility')},domProps:{\"checked\":Array.isArray(_vm.fileVisStatusArray[index].visible)?_vm._i(_vm.fileVisStatusArray[index].visible,null)>-1:(_vm.fileVisStatusArray[index].visible)},on:{\"change\":[function($event){var $$a=_vm.fileVisStatusArray[index].visible,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.fileVisStatusArray[index], \"visible\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.fileVisStatusArray[index], \"visible\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.fileVisStatusArray[index], \"visible\", $$c)}},function($event){return _vm.onCheckboxChange()}]}})]),_vm._v(\" \"),_c('div',{staticClass:\"image-wrapper\",class:{ 'deselected': !_vm.fileVisStatusArray[index].visible }},[_c('img',{staticClass:\"image-editable\",attrs:{\"src\":imageUrl,\"title\":_vm.t('assistant', 'Click to toggle generation visibility')},on:{\"load\":function($event){return _vm.onImageLoad(index)},\"click\":function($event){return _vm.toggleCheckbox(index)},\"error\":_vm.onError}})])])}),0):_vm._e()]):_c('div',[(_vm.imageUrls.length > 0 && !_vm.failed)?_c('div',{staticClass:\"image-list\"},[_vm._l((_vm.imageUrls),function(imageUrl,index){return _c('div',{key:index,staticClass:\"image-container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isOwner || _vm.fileVisStatusArray[index].visible),expression:\"!isOwner || fileVisStatusArray[index].visible\"}],staticClass:\"image-wrapper\"},[_c('img',{staticClass:\"image-non-editable\",attrs:{\"src\":imageUrl,\"title\":_vm.t('assistant', 'Generated image')},on:{\"load\":function($event){return _vm.onImageLoad(index)},\"error\":_vm.onError}})])])}),_vm._v(\" \"),(!_vm.hasVisibleImages)?_c('div',{staticClass:\"error_msg\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'This generation has no visible images'))+\"\\n\\t\\t\\t\")]):_vm._e()],2):_vm._e()]),_vm._v(\" \"),(!_vm.failed && _vm.waitingInBg)?_c('div',{staticClass:\"processing-notification-container\"},[(_vm.timeUntilCompletion !== null)?_c('div',{staticClass:\"processing-notification\"},[_c('InformationOutlineIcon',{staticClass:\"icon\",attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'Estimated generation time left: ') + _vm.timeUntilCompletion + '. ')+\"\\n\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'The generated image is shown once ready.'))+\"\\n\\t\\t\")],1):_c('div',{staticClass:\"processing-notification\"},[_c('InformationOutlineIcon',{staticClass:\"icon\",attrs:{\"size\":20}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'This image generation was scheduled to run in the background.'))+\"\\n\\t\\t\\t\"+_vm._s(_vm.t('assistant', 'The generated image is shown once ready.'))+\"\\n\\t\\t\")],1)]):_vm._e(),_vm._v(\" \"),(_vm.failed)?_c('span',{staticClass:\"error_msg\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('assistant', _vm.errorMsg))+\"\\n\\t\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon assistant-icon\",attrs:{\"aria-hidden\":!_vm.title,\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"enable-background\":\"new 0 0 24 24\",\"version\":\"1.1\",\"viewBox\":\"0 0 24 24\",\"xml:space\":\"preserve\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M18,4C16.29,4 15.25,4.33 14.65,4.61C13.88,4.23 13,4 12,4C11,4 10.12,4.23 9.35,4.61C8.75,4.33 7.71,4 6,4C3,4 1,12 1,14C1,14.83 2.32,15.59 4.14,15.9C4.78,18.14 7.8,19.85 11.5,20V15.72C10.91,15.35 10,14.68 10,14C10,13 12,13 12,13C12,13 14,13 14,14C14,14.68 13.09,15.35 12.5,15.72V20C16.2,19.85 19.22,18.14 19.86,15.9C21.68,15.59 23,14.83 23,14C23,12 21,4 18,4M4.15,13.87C3.65,13.75 3.26,13.61 3,13.5C3.25,10.73 5.2,6.4 6.05,6C6.59,6 7,6.06 7.37,6.11C5.27,8.42 4.44,12.04 4.15,13.87M9,12A1,1 0 0,1 8,11C8,10.46 8.45,10 9,10A1,1 0 0,1 10,11C10,11.56 9.55,12 9,12M15,12A1,1 0 0,1 14,11C14,10.46 14.45,10 15,10A1,1 0 0,1 16,11C16,11.56 15.55,12 15,12M19.85,13.87C19.56,12.04 18.73,8.42 16.63,6.11C17,6.06 17.41,6 17.95,6C18.8,6.4 20.75,10.73 21,13.5C20.75,13.61 20.36,13.75 19.85,13.87Z\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.display-container[data-v-163a09a0]{display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.display-container .edit-icon[data-v-163a09a0]{position:static;opacity:.2;transition:opacity .2s ease-in-out;cursor:pointer}.display-container .edit-icon.active[data-v-163a09a0]{opacity:1;cursor:pointer}.display-container .image-list[data-v-163a09a0]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:center}.display-container .image-container[data-v-163a09a0]{display:flex;flex-direction:column;position:relative;justify-content:center;max-width:90%}.display-container .checkbox-container[data-v-163a09a0]{position:absolute;top:5%;left:95%;z-index:1;opacity:.2;transition:opacity .2s ease-in-out}.display-container .checkbox-container>input[data-v-163a09a0]{cursor:pointer}.display-container .checkbox-container.hovering[data-v-163a09a0]{opacity:1}.display-container .image-wrapper[data-v-163a09a0]{display:flex;flex-direction:column;position:relative;max-width:100%;height:100%;margin-top:12px;filter:none;transition:filter .2s ease-in-out}.display-container .image-wrapper.deselected[data-v-163a09a0]{filter:grayscale(100%) brightness(50%)}.display-container .image-editable[data-v-163a09a0]{display:flex;width:100%;height:100%;min-width:400px;object-fit:contain;cursor:pointer;border-radius:var(--border-radius)}.display-container .image-non-editable[data-v-163a09a0]{display:flex;width:100%;height:100%;min-width:400px;object-fit:contain}.display-container .title[data-v-163a09a0]{max-width:600px;width:100%;display:flex;flex-direction:row;margin-top:0}.display-container .title .icon-and-text[data-v-163a09a0]{width:100%;display:flex;flex-direction:row;align-items:top;justify-content:start;margin-right:8px}.display-container .title .icon-and-text .app-name[data-v-163a09a0]{margin-right:8px;white-space:nowrap}.display-container .title .icon[data-v-163a09a0]{display:inline;position:relative;margin-right:8px}.display-container .processing-notification-container[data-v-163a09a0]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:24px}.display-container .processing-notification-container .processing-notification[data-v-163a09a0]{display:flex;flex-direction:row;margin-top:24px;width:90%;align-items:center;justify-content:center;border:3px solid var(--color-border);border-radius:var(--border-radius-large);padding:12px;font-size:.8rem;column-gap:24px}.display-container .error_msg[data-v-163a09a0]{color:var(--color-error);font-weight:bold;margin-bottom:24px;align-self:center}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Text2Image/Text2ImageDisplay.vue\"],\"names\":[],\"mappings\":\"AACA,oCACC,YAAA,CACA,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,sBAAA,CACA,+CACC,eAAA,CACA,UAAA,CACA,kCAAA,CACA,cAAA,CAGD,sDACC,SAAA,CACA,cAAA,CAGD,gDACC,YAAA,CACA,qBAAA,CACA,cAAA,CACA,sBAAA,CAGD,qDACC,YAAA,CACA,qBAAA,CACA,iBAAA,CACA,sBAAA,CACA,aAAA,CAGD,wDACC,iBAAA,CACA,MAAA,CACA,QAAA,CACA,SAAA,CACA,UAAA,CACA,kCAAA,CACA,8DACC,cAAA,CAGF,iEACC,SAAA,CAOD,mDACC,YAAA,CACA,qBAAA,CACA,iBAAA,CACA,cAAA,CACA,WAAA,CACA,eAAA,CACA,WAAA,CACA,iCAAA,CAGD,8DACC,sCAAA,CAGD,oDACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CACA,kCAAA,CAGD,wDACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,eAAA,CACA,kBAAA,CAGD,2CACC,eAAA,CACA,UAAA,CACA,YAAA,CACA,kBAAA,CACA,YAAA,CAEA,0DACC,UAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,qBAAA,CACA,gBAAA,CAEA,oEACC,gBAAA,CACA,kBAAA,CAIF,iDACC,cAAA,CACA,iBAAA,CACA,gBAAA,CAIF,uEACC,UAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAEA,gGACC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,SAAA,CACA,kBAAA,CACA,sBAAA,CAEA,oCAAA,CACA,wCAAA,CACA,YAAA,CAEA,eAAA,CAEA,eAAA,CAIF,+CACC,wBAAA,CACA,gBAAA,CACA,kBAAA,CACA,iBAAA\",\"sourcesContent\":[\"\\n.display-container {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\twidth: 100%;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\t.edit-icon {\\n\\t\\tposition: static;\\n\\t\\topacity: 0.2;\\n\\t\\ttransition: opacity 0.2s ease-in-out;\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t.edit-icon.active {\\n\\t\\topacity: 1;\\n\\t\\tcursor: pointer;\\n\\t}\\n\\n\\t.image-list {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tflex-wrap: wrap;\\n\\t\\tjustify-content: center;\\n\\t}\\n\\n\\t.image-container {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tposition: relative;\\n\\t\\tjustify-content: center;\\n\\t\\tmax-width: 90%;\\n\\t}\\n\\n\\t.checkbox-container {\\n\\t\\tposition: absolute;\\n\\t\\ttop: 5%;\\n\\t\\tleft: 95%;\\n\\t\\tz-index: 1;\\n\\t\\topacity: 0.2;\\n\\t\\ttransition: opacity 0.2s ease-in-out;\\n\\t\\t> input {\\n\\t\\t\\tcursor: pointer;\\n\\t\\t}\\n\\t}\\n\\t.checkbox-container.hovering {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\t/*.checkbox {\\n\\t\\tcursor: pointer;\\n\\t}*/\\n\\n\\t.image-wrapper {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tposition: relative;\\n\\t\\tmax-width: 100%;\\n\\t\\theight: 100%;\\n\\t\\tmargin-top: 12px;\\n\\t\\tfilter: none;\\n\\t\\ttransition: filter 0.2s ease-in-out;\\n\\t}\\n\\n\\t.image-wrapper.deselected {\\n\\t\\tfilter: grayscale(100%) brightness(50%);\\n\\t}\\n\\n\\t.image-editable {\\n\\t\\tdisplay: flex;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tmin-width: 400px;\\n\\t\\tobject-fit:contain;\\n\\t\\tcursor: pointer;\\n\\t\\tborder-radius: var(--border-radius);\\n\\t}\\n\\n\\t.image-non-editable {\\n\\t\\tdisplay: flex;\\n\\t\\twidth: 100%;\\n\\t\\theight: 100%;\\n\\t\\tmin-width: 400px;\\n\\t\\tobject-fit:contain;\\n\\t}\\n\\n\\t.title {\\n\\t\\tmax-width: 600px;\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: row;\\n\\t\\tmargin-top: 0;\\n\\n\\t\\t.icon-and-text {\\n\\t\\t\\twidth: 100%;\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: row;\\n\\t\\t\\talign-items: top;\\n\\t\\t\\tjustify-content: start;\\n\\t\\t\\tmargin-right: 8px;\\n\\n\\t\\t\\t.app-name {\\n\\t\\t\\t\\tmargin-right: 8px;\\n\\t\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t.icon {\\n\\t\\t\\tdisplay: inline;\\n\\t\\t\\tposition: relative;\\n\\t\\t\\tmargin-right: 8px;\\n\\t\\t}\\n\\t}\\n\\n\\t.processing-notification-container {\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: center;\\n\\t\\tmargin-top: 24px;\\n\\n\\t\\t.processing-notification {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: row;\\n\\t\\t\\tmargin-top: 24px;\\n\\t\\t\\twidth: 90%;\\n\\t\\t\\talign-items: center;\\n\\t\\t\\tjustify-content: center;\\n\\t\\t\\t// Add a border\\n\\t\\t\\tborder: 3px solid var(--color-border);\\n\\t\\t\\tborder-radius: var(--border-radius-large);\\n\\t\\t\\tpadding: 12px;\\n\\t\\t\\t// Reduce the font size\\n\\t\\t\\tfont-size: 0.8rem;\\n\\t\\t\\t// Add some space between the icon and the text on the same line\\n\\t\\t\\tcolumn-gap: 24px;\\n\\t\\t}\\n\\t}\\n\\n\\t.error_msg {\\n\\t\\tcolor: var(--color-error);\\n\\t\\tfont-weight: bold;\\n\\t\\tmargin-bottom: 24px;\\n\\t\\talign-self: center;\\n\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageDisplay.vue?vue&type=style&index=0&id=163a09a0&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageDisplay.vue?vue&type=style&index=0&id=163a09a0&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Text2ImageDisplay.vue?vue&type=template&id=163a09a0&scoped=true\"\nimport script from \"./Text2ImageDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./Text2ImageDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./Text2ImageDisplay.vue?vue&type=style&index=0&id=163a09a0&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"163a09a0\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AssistantIcon.vue?vue&type=template&id=668cfb5e\"\nimport script from \"./AssistantIcon.vue?vue&type=script&lang=js\"\nexport * from \"./AssistantIcon.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Text2ImageDisplay.vue?vue&type=script&lang=js\"","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssistantIcon.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssistantIcon.vue?vue&type=script&lang=js\""],"names":["name","components","NcLoadingIcon","InformationOutlineIcon","AssistantIcon","Cog","props","src","type","String","required","forceEditMode","Boolean","default","data","prompt","loadingImages","imgLoadedList","timeUntilCompletion","failed","imageUrls","isOwner","errorMsg","t","closed","fileVisStatusArray","hoveredIndex","hovered","editModeEnabled","waitingInBg","computed","loading","length","hasVisibleImages","some","status","visible","mounted","getImageGenInfo","unmounted","methods","onImageLoad","index","every","loaded","getImages","imageGenId","fileIds","forEach","fileId","push","generateUrl","id","success","axios","get","then","response","undefined","files","is_owner","image_gen_id","onGenerationReady","processing","$emit","updateTimeUntilCompletion","console","error","setTimeout","catch","onError","completionTimeStamp","timeDifference","Date","humanizeDuration","units","language","OC","getLanguage","fallbacks","round","onCheckboxChange","url","split","pop","post","toggleCheckbox","toggleEditMode","title","fillColor","size","Number","render","_vm","this","_c","_self","staticClass","attrs","_v","_s","class","on","_e","_l","imageUrl","key","$event","directives","rawName","value","expression","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$i","$set","concat","slice","staticRenderFns","_b","$attrs","___CSS_LOADER_EXPORT___","module","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals"],"sourceRoot":""}